{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Google Analytics Data API v1beta - runPivotReport Endpoint",
  "description": "Endpoint for running a pivot report on a Google Analytics 4 property",
  "type": "object",
  "properties": {
    "request": {
      "type": "object",
      "properties": {
        "property": {
          "type": "string",
          "description": "A Google Analytics 4 property identifier"
        },
        "dimensions": {
          "type": "array",
          "description": "The dimensions requested",
          "items": { "$ref": "#/definitions/Dimension" }
        },
        "metrics": {
          "type": "array",
          "description": "The metrics requested",
          "items": { "$ref": "#/definitions/Metric" }
        },
        "dateRanges": {
          "type": "array",
          "description": "The date range to retrieve event data for the report",
          "items": { "$ref": "#/definitions/DateRange" }
        },
        "pivots": {
          "type": "array",
          "description": "Describes the visual format of the report's dimensions in columns or rows",
          "items": { "$ref": "#/definitions/Pivot" }
        },
        "dimensionFilter": {
          "description": "The filter clause of dimensions",
          "$ref": "#/definitions/FilterExpression"
        },
        "metricFilter": {
          "description": "The filter clause of metrics",
          "$ref": "#/definitions/FilterExpression"
        },
        "currencyCode": {
          "type": "string",
          "description": "A currency code in ISO4217 format"
        },
        "cohortSpec": {
          "description": "Cohort group associated with this request",
          "$ref": "#/definitions/CohortSpec"
        },
        "keepEmptyRows": {
          "type": "boolean",
          "description": "If false, rows with metrics being 0 will be omitted from results"
        },
        "returnPropertyQuota": {
          "type": "boolean",
          "description": "Toggles whether to return the current state of the Property's quota"
        },
        "comparisons": {
          "type": "array",
          "description": "Optional. The configuration of comparisons requested and displayed",
          "items": { "$ref": "#/definitions/Comparison" }
        }
      },
      "required": ["property", "pivots"]
    },
    "response": {
      "$ref": "#/definitions/RunPivotReportResponse"
    }
  },
  "definitions": {
    "RunPivotReportResponse": {
      "type": "object"
    },
    "Dimension": { "type": "object" },
    "Metric": { "type": "object" },
    "DateRange": { "type": "object" },
    "Pivot": { "type": "object" },
    "FilterExpression": { "type": "object" },
    "CohortSpec": { "type": "object" },
    "Comparison": { "type": "object" }
  },
  "metadata": {
    "apiType": "endpoint",
    "httpMethod": "POST",
    "apiPath": "v1beta/{property=properties/*}:runPivotReport"
  }
}
