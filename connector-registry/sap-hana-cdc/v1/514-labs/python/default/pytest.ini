[pytest]
minversion = 7.0
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*
markers =
    unit: Unit tests (fast, no external dependencies) - ALWAYS RUN
    integration: Integration tests (require Docker containers) - SKIPPED by default
    resilience: Resilience tests (failure injection scenarios) - SKIPPED by default
    slow: Slow running tests
    requires_sap_hana: Requires SAP HANA connection (skipped unless ENABLE_INTEGRATION_TESTS=true and HANA available)
    requires_clickhouse: Requires ClickHouse connection (skipped unless ENABLE_INTEGRATION_TESTS=true and ClickHouse available)
addopts =
    -v
    --strict-markers
    --tb=short
    -ra
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning

# Default behavior: only run unit tests
# To run integration tests: ENABLE_INTEGRATION_TESTS=true pytest
# To run with coverage: pytest --cov=src/sap_hana_cdc --cov-report=html
