import { ConnectorScaffoldTrees, PipelineScaffoldTrees } from "@/components/scaffold-tree";
import { Tabs, TabsContent, TabsList, TabsTrigger } from "@ui/components/tabs";

# Registry scaffolds

Below are visualizations of the registry scaffolds. Each section shows the folder layout generated by the scaffold and the intent of the key folders.

<Tabs defaultValue="connector" className="mt-6">
<TabsList>
  <TabsTrigger value="connector">Connector Scaffold</TabsTrigger>
  <TabsTrigger value="pipeline">Pipeline Scaffold</TabsTrigger>
</TabsList>

<TabsContent value="connector">

## Connector scaffold

<ConnectorScaffoldTrees />

### What the folders mean

#### `{connector}/_meta`
- Holds connector-level metadata that is provider-agnostic.
- **Files**: `connector.json`, `README.md`, and `assets/` for shared logos/images.
- Do not place documentation here; documentation belongs with the language implementation directories.

#### `{connector}/{version}/_meta`
- Version-level metadata for the connector.
- **Files**: `version.json`, `README.md`, and `assets/`.

#### `{connector}/{version}/{author}/_meta`
- Provider/author-specific metadata and assets.
- **Files**: `connector.json` (capabilities, languages), `CHANGELOG.md`, `LICENSE`, `assets/`.

#### Language implementations under `{connector}/{version}/{author}`
- `typescript/{implementation}/` (and optionally `python/` if provided) contain the runnable implementation.
- Follow these conventions:
  - `docs/` for human-facing guides (getting started, configuration, limits, schema docs)
  - `schemas/` at the top level of the language directory for machine-readable definitions and related Markdown
  - `src/` for code with subfolders like `auth/`, `extract/`, `transform/`, `load/`
  - `tests/` for unit tests
  - `examples/` for usage samples

### Notes
- `_meta` folders should not include docs; keep docs with the language-specific implementation.
- Schemas should live at the top level of each language implementation (not under `src`).

</TabsContent>

<TabsContent value="pipeline">

## Pipeline scaffold

<PipelineScaffoldTrees />

### What the folders mean

#### `{pipeline}/_meta`
- Holds pipeline-level metadata that is provider-agnostic.
- **Files**: `pipeline.json`, `README.md`, and `assets/` for images and lineage diagrams.
- Avoid placing detailed implementation docs here; keep docs near the language implementation.

#### `{pipeline}/{version}/_meta`
- Version-level metadata for the pipeline.
- **Files**: `version.json`, `README.md`, and `assets/`.

#### `{pipeline}/{version}/{author}/_meta`
- Provider/author-specific metadata and lineage assets.
- **Files**: `pipeline.json` (executable spec), `CHANGELOG.md`, `LICENSE`, `assets/` (e.g., `lineage.mmd`, `lineage.svg`).

#### Language implementations under `{pipeline}/{version}/{author}`
- `python/{implementation}/` and `typescript/{implementation}/` contain helpers and runnable code.
- Prefer placing docs adjacent to the implementation:
  - `docs/` for human-facing guides (getting started, config, outputs)
  - `schemas/` at the top level of the language directory for machine-readable datasets/index
  - `src/` for code (with subfolders like `extract/`, `transform/`, `load/`)
  - `tests/` for unit tests
  - `scripts/` for automation like lineage generation

### Notes
- `_meta` folders are for metadata and assets. Keep implementation docs inside the language directories.
- Place schemas at the top level of each language implementation (not under `src`).

</TabsContent>
</Tabs>